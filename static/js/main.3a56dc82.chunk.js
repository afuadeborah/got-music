(this["webpackJsonpgot-music"]=this["webpackJsonpgot-music"]||[]).push([[0],{27:function(e,a,t){e.exports=t(53)},32:function(e,a,t){},33:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(25),s=t.n(l),c=(t(32),t(3)),i=t(4),m=t(6),o=t(5),u=(t(33),function(){return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("h1",null,"got music?"),r.a.createElement("div",{tabindex:"0",class:"hamburger"},r.a.createElement("label",{class:"visually-hidden",for:"ham-check"},"Open menu"),r.a.createElement("input",{type:"checkbox",name:"hamburger",id:"ham-check",class:"ham-input"}),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("ul",{class:"top-nav",id:"ham"},r.a.createElement("li",{tabindex:"0",class:"ham-link"},r.a.createElement("a",{href:"#home"},"Home")),r.a.createElement("li",{tabindex:"0",class:"ham-link"},r.a.createElement("a",{href:"#playlist"},"Playlist")),r.a.createElement("li",{tabindex:"0",class:"ham-link"},r.a.createElement("a",{href:"#contact"},"Contact"))))))}),h=t(8),p=t.n(h),d=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).state={artists:[]},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;p()({url:"http://ws.audioscrobbler.com/2.0/",method:"GET",responseType:"json",params:{api_key:"a0b4a2a68217ad3b52fe53e7b7ba0679",method:"chart.getTopArtists",limit:"10",format:"json"}}).then((function(a){var t=a.data.artists.artist;e.setState({artists:t}),console.log(t)}))}},{key:"render",value:function(){return r.a.createElement("section",{className:"top-artists"},r.a.createElement("h2",null,"Today's Top 10"),r.a.createElement("div",{className:"artist-list-container"},this.state.artists.map((function(e,a){return r.a.createElement("div",{className:"artist-list",key:a},r.a.createElement("div",{className:"rank-container"},r.a.createElement("p",{className:"rank"},a+1)),r.a.createElement("a",{href:"".concat(e.url),className:"artist-container",target:"_blank",rel:"noopener noreferrer",title:"See ".concat(e.name,"'s albums"),tabIndex:"0"},r.a.createElement("p",{className:"artist"}," ",e.name)))}))))}}]),t}(n.Component),b=t(10),E=t.n(b);t(51);E.a.initializeApp({apiKey:"AIzaSyCZbC3Diw66i3hj_Vp9RI5ncgBk4CIhTSA",authDomain:"got-music.firebaseapp.com",databaseURL:"https://got-music.firebaseio.com",projectId:"got-music",storageBucket:"got-music.appspot.com",messagingSenderId:"693014542927",appId:"1:693014542927:web:1769fd7976add77afa883a"});var f=E.a,v=t(26),g=function(e){var a=e.album,t=e.playlist;return r.a.createElement("div",{className:"album-container"},r.a.createElement("img",{src:""===a.image?"https://imgur.com/rrF0ZYG":a.image,alt:a.title}),r.a.createElement("div",{className:"like-album"},r.a.createElement("p",{title:"Click heart to add to collection"},a.title),r.a.createElement(v.a,{onClick:function(){return t(a)}})))},y=t(11),k=function(e){var a=e.userList,t=e.remove;return r.a.createElement("div",{className:"user-album"},r.a.createElement("div",{className:"selected-album"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:a.name.smallImage,alt:a.name.title})),r.a.createElement("div",{className:"list-info"},r.a.createElement("h5",null,a.name.title),r.a.createElement("p",{className:"artist-name"},a.name.artist),r.a.createElement("a",{className:"listen",target:"_blank",rel:"noopener noreferrer",tabIndex:"0",href:a.name.url},r.a.createElement(y.a,null)," Listen to ",a.name.title," on LastFm"))),r.a.createElement("div",{className:"remove-album"},r.a.createElement(y.b,{className:"delete",title:"Remove album from playlist",onClick:function(){return t(a.album)}})))},N=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).handleChange=function(a){e.setState({artistSearch:a.target.value})},e.handleSubmit=function(a){a.preventDefault(),e.userSearch(),e.setState({artistSearch:""})},e.userSearch=function(){p()({url:"http://ws.audioscrobbler.com/2.0/",method:"GET",responseType:"json",params:{api_key:"a0b4a2a68217ad3b52fe53e7b7ba0679",method:"artist.getTopAlbums",artist:e.state.artistSearch,limit:"20",format:"json"}}).then((function(a){var t=a.data.topalbums.album,n=[];t.map((function(e){return n.push({title:e.name,artist:e.artist.name,image:e.image[3]["#text"],smallImage:e.image[2]["#text"],url:e.url})})),e.setState({topAlbums:n})})).catch((function(e){console.log("No data found.")}))},e.addToPlaylist=function(e){f.database().ref().push(e)},e.removeFromPlaylist=function(e){f.database().ref().child(e).remove()},e.state={artistSearch:"",topAlbums:[],userList:[]},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.database().ref().on("value",(function(a){var t=[],n=a.val();for(var r in n){var l={album:r,name:n[r]};t.push(l)}e.setState({userList:t}),console.log(e.state.userList)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"build-album wrapper"},r.a.createElement("section",{className:"search"},r.a.createElement("h2",null,"Search an artist"),r.a.createElement("div",{className:"search-container"},r.a.createElement("form",{className:"search-albums",action:"submit",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"sr-only",htmlFor:"search"}),r.a.createElement("input",{type:"search",placeholder:"Enter artist name",id:"search",name:"search","aria-label":"Search through site content",title:"Search by artist name",onChange:this.handleChange,value:this.state.artistSearch}),r.a.createElement("button",{type:"submit"},"Get Music")))),r.a.createElement("div",{className:"spacer"}),r.a.createElement("h3",null,"Build your album collection"),r.a.createElement("section",{className:"top-albums"},this.state.topAlbums.map((function(a,t){return"(null)"===a.title||"?"===a.title?"":r.a.createElement(g,{key:t,album:a,playlist:e.addToPlaylist})}))),r.a.createElement("div",{className:"spacer"}),r.a.createElement("h3",{id:"playlist"},"Your Playlist"),r.a.createElement("section",{className:"user-playlist"},r.a.createElement("div",{className:"playlist-container"},this.state.userList.map((function(a,t){return r.a.createElement(k,{key:t,userList:a,remove:e.removeFromPlaylist})})))))}}]),t}(n.Component),S=function(e){Object(m.a)(t,e);var a=Object(o.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement(d,null),r.a.createElement(N,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.3a56dc82.chunk.js.map