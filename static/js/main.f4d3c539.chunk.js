(this["webpackJsonpgot-music"]=this["webpackJsonpgot-music"]||[]).push([[0],{27:function(e,t,a){e.exports=a(53)},32:function(e,t,a){},33:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(24),s=a.n(l),c=(a(32),a(3)),i=a(4),o=a(6),m=a(5),u=(a(33),function(){return r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("h1",null,"got music?"),r.a.createElement("ul",{className:"top-nav"},r.a.createElement("li",null,r.a.createElement("a",{href:"#playlist"},"Playlists")),r.a.createElement("li",null,r.a.createElement("a",{href:"#contact"},"Contact")))))}),h=a(8),p=a.n(h),d=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={artists:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;p()({url:"http://ws.audioscrobbler.com/2.0/",method:"GET",responseType:"json",params:{api_key:"a0b4a2a68217ad3b52fe53e7b7ba0679",method:"chart.getTopArtists",limit:"10",format:"json"}}).then((function(t){var a=t.data.artists.artist;e.setState({artists:a}),console.log(a)}))}},{key:"render",value:function(){return r.a.createElement("section",{className:"top-artists"},r.a.createElement("h2",null,"Today's Top 10"),r.a.createElement("div",{className:"artist-list-container"},this.state.artists.map((function(e,t){return r.a.createElement("div",{className:"artist-list",key:t},r.a.createElement("div",{className:"rank-container"},r.a.createElement("p",{className:"rank"},t+1)),r.a.createElement("a",{href:"".concat(e.url),className:"artist-container",target:"_blank",rel:"noopener noreferrer",title:"See ".concat(e.name,"'s albums"),tabIndex:"0"},r.a.createElement("p",{className:"artist"}," ",e.name)))}))))}}]),a}(n.Component),b=a(10),f=a.n(b);a(51);f.a.initializeApp({apiKey:"AIzaSyCZbC3Diw66i3hj_Vp9RI5ncgBk4CIhTSA",authDomain:"got-music.firebaseapp.com",databaseURL:"https://got-music.firebaseio.com",projectId:"got-music",storageBucket:"got-music.appspot.com",messagingSenderId:"693014542927",appId:"1:693014542927:web:1769fd7976add77afa883a"});var E=f.a,v=a(25),g=function(e){var t=e.album,a=e.playlist;return r.a.createElement("div",{className:"album-container"},r.a.createElement("img",{src:""===t.image?"https://imgur.com/rrF0ZYG":t.image,alt:t.title}),r.a.createElement("div",{className:"like-album"},r.a.createElement("p",{title:"Click heart to add to collection"},t.title),r.a.createElement(v.a,{onClick:function(){return a(t)}})))},y=a(26),N=function(e){var t=e.userList,a=e.remove;return r.a.createElement("div",{className:"user-album"},r.a.createElement("div",{className:"selected-album"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:t.name.smallImage,alt:t.name.title})),r.a.createElement("div",{className:"list-info"},r.a.createElement("h5",null,t.name.title),r.a.createElement("p",{className:"artist-name"},t.name.artist),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",tabIndex:"0",href:t.name.url},"Go listen to ",t.name.title," on LastFm"))),r.a.createElement("div",{className:"remove-album"},r.a.createElement(y.a,{className:"delete",title:"Remove album from playlist",onClick:function(){return a(t.album)}})))},k=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState({artistSearch:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.userSearch(),e.setState({artistSearch:""})},e.userSearch=function(){p()({url:"http://ws.audioscrobbler.com/2.0/",method:"GET",responseType:"json",params:{api_key:"a0b4a2a68217ad3b52fe53e7b7ba0679",method:"artist.getTopAlbums",artist:e.state.artistSearch,limit:"20",format:"json"}}).then((function(t){var a=t.data.topalbums.album,n=[];a.map((function(e){return n.push({title:e.name,artist:e.artist.name,image:e.image[3]["#text"],smallImage:e.image[2]["#text"],url:e.url})})),e.setState({topAlbums:n}),console.log(a,n)})).catch((function(e){console.log("No data found.")}))},e.addToPlaylist=function(e){E.database().ref().push(e)},e.removeFromPlaylist=function(e){E.database().ref().child(e).remove()},e.state={artistSearch:"",topAlbums:[],userList:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.database().ref().on("value",(function(t){var a=[],n=t.val();for(var r in n){var l={album:r,name:n[r]};a.push(l)}e.setState({userList:a}),console.log(e.state.userList)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"build-album wrapper"},r.a.createElement("section",{className:"search"},r.a.createElement("h2",null,"Search an artist"),r.a.createElement("div",{className:"search-container"},r.a.createElement("form",{className:"search-albums",action:"submit",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"sr-only",htmlFor:"search"}),r.a.createElement("input",{type:"search",placeholder:"Enter artist name",id:"search",name:"search","aria-label":"Search through site content",title:"Search by artist name",onChange:this.handleChange,value:this.state.artistSearch}),r.a.createElement("button",{type:"submit"},"Get Music")))),r.a.createElement("h3",null,"Build your album collection"),r.a.createElement("section",{className:"top-albums"},this.state.topAlbums.map((function(t,a){return"(null)"===t.title||"?"===t.title?"":r.a.createElement(g,{key:a,album:t,playlist:e.addToPlaylist})}))),r.a.createElement("h3",{id:"playlist"},"Your Playlists"),r.a.createElement("section",{className:"user-playlist"},r.a.createElement("div",{className:"playlist-container"},this.state.userList.map((function(t,a){return r.a.createElement(N,{key:a,userList:t,remove:e.removeFromPlaylist})})))))}}]),a}(n.Component),S=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement(d,null),r.a.createElement(k,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.f4d3c539.chunk.js.map